# 專案規範文件：軟體接案平台（200 OK）

## 一、基本功能（Core Features）

### 1. 使用者系統

使用者註冊／登入（Email、Google OAuth）/ 綁定手機號碼做安全驗證

分為兩種角色：

- **接案者 (Freelancer)**：上傳技能、履歷、作品集
- **發案者 (Client)**：發布案件、邀請接案者

使用者可編輯個人資料、上傳大頭照、修改密碼

### 2. 案件系統

**發案者可：**

- **建立新案件（引導式流程）**
  - 使用引導式問答收集需求（詳細見「建立新專案流程.md」）
  - 透過 AI 輔助生成專案摘要與結構化 brief
  - 使用拉桿設定預算區間（$10k–$500k+）
  - 設定時程、付款條件、交付物、溝通方式
  - 上傳參考案例或設計風格描述
  - 自動轉譯成技術需求與技能標籤
- **管理案件**
  - 查看投標者列表與提案內容
  - 接受／拒絕投標
  - 修改案件資訊（限 Open 狀態）
  - 關閉或取消案件
  - 查看案件進度與里程碑

**接案者可：**

- **瀏覽與搜尋案件**
  - 依技能、預算、日期、狀態篩選
  - **標籤篩選**：快速篩選技術標籤、專案類型、領域標籤
  - 關鍵字搜尋（標題、描述、技能）
  - 儲存感興趣的案件（收藏功能）
  - 推薦系統：根據技能與過往經驗推薦適合案件
- **投標功能**
  - 附上報價金額（需在預算區間內或說明原因）
  - 撰寫提案內容（工作方式、時程規劃、過往案例）
  - 上傳作品集連結或附件
  - 修改或撤回投標（限 pending 狀態）

**案件狀態流程：**

```
Open（開放投標）
  ↓ [發案者接受投標]
In Progress（進行中）
  ↓ [接案者標記完成]
Completed（已完成）
  ↓ [雙方互評後]
Closed（已結案）
```

**特殊狀態：**
- `Draft`：草稿狀態（未發布）
- `Cancelled`：已取消（發案者取消或系統下架）

### 3. 通訊系統

**即時訊息功能：**

- 發案者與接案者可在案件內私訊（即時或半即時）
- 支援文字、圖片、檔案附件
- 訊息已讀狀態顯示
- 案件相關的訊息自動歸類到對應案件

**通知系統：**

- **即時通知類型：**
  - 新投標通知（發案者）
  - 投標被接受／拒絕（接案者）
  - 新訊息通知
  - 案件狀態變更
  - 評價提醒（案件完成後）
- **通知管道：**
  - 站內通知（通知中心）
  - Email 通知（可設定偏好）
  - 瀏覽器推播通知（需使用者授權）
- **通知設定：**
  - 使用者可自訂通知偏好（哪些類型要通知）
  - 免打擾時段設定

### 4. 評價系統

**評價機制：**

- 案件完成後雙方可互評（案件狀態為 `Completed` 後）
- 評價內容：
  - 星級評價 (1–5)
  - 留言／評論文字
  - 可選標籤：專業、準時、溝通良好、品質佳等
- 評價時效：案件完成後 30 天內可評價
- 雙方評價後才顯示（避免報復性評價）

**信譽系統：**

- **信譽分數計算：**
  - 平均星級評價
  - 完成案件數
  - 準時完成率
  - 正面評價比例
- **信譽等級：**
  - 新手（0–10 分）
  - 良好（10–50 分）
  - 優秀（50–100 分）
  - 頂尖（100+ 分）
- 信譽分數影響：
  - 案件搜尋排序
  - 推薦系統權重
  - 接案者投標優先順序

### 5. 付款與金流系統

**付款方式：**

- 支援多種付款方式（信用卡、轉帳、第三方支付）
- 分期付款機制（3331 模式：簽約 30% / 中期 30% / 交付 30% / 驗收 10%）
- 託管機制：款項先存入平台託管，驗收後才釋放給接案者

**付款流程：**

1. 發案者確認接受投標
2. 發案者支付首期款項（30%）至託管帳戶
3. 接案者開始工作，達到里程碑後可申請中期款項（30%）
4. 專案完成交付後，發案者支付交付款項（30%）
5. 驗收通過後，自動釋放驗收款項（10%）給接案者

**爭議處理：**

- 雙方可申請平台仲裁
- 提供爭議處理流程與客服支援

### 6. 標籤系統

**標籤類型與用途：**

- **技術標籤（Tech Tags）**
  - 前端技術：React, Vue, Angular, Next.js, TypeScript, JavaScript
  - 後端技術：Node.js, Python, Java, PHP, Go, Ruby
  - 資料庫：PostgreSQL, MySQL, MongoDB, Redis
  - 行動開發：React Native, Flutter, Swift, Kotlin
  - 其他：Docker, AWS, Git, Figma, UI/UX
- **專案類型標籤（Project Type Tags）**
  - 官網、電商平台、App、LineBot、ERP/CRM、遊戲等
- **領域標籤（Domain Tags）**
  - 醫療、教育、電商、金融、餐飲、旅遊、科技等
- **工具標籤（Tool Tags）**
  - 設計工具：Figma, Sketch, Adobe XD
  - 開發工具：Git, Docker, CI/CD
  - 雲端服務：AWS, GCP, Azure

**標籤功能：**

- **自動標籤建議**：AI 根據案件描述自動建議標籤
- **標籤熱度排序**：顯示最常用的標籤，方便快速選擇
- **標籤組合篩選**：可選擇多個標籤進行 AND/OR 篩選
- **標籤搜尋**：搜尋框輸入標籤名稱自動完成
- **標籤追蹤**：使用者可追蹤感興趣的標籤，接收相關案件通知

**標籤管理：**

- 系統預設標籤庫（管理員維護）
- 使用者可建議新標籤（需管理員審核）
- 標籤使用統計（熱門標籤、成長趨勢）

### 7. 後台管理（Admin）(coming soon)

**管理員功能：**

- **使用者管理：**
  - 查看所有使用者資料
  - 停權／解鎖帳號
  - 查看使用者信譽分數與評價
- **案件管理：**
  - 查看所有案件
  - 下架違規案件
  - 處理爭議案件
- **標籤管理：**
  - 管理標籤庫（新增、編輯、刪除標籤）
  - 審核使用者建議的標籤
  - 合併重複標籤
  - 設定標籤分類與層級
- **數據分析：**
  - 平台使用統計
  - 案件完成率
  - 使用者活躍度
  - 標籤使用趨勢分析
- **內容審核：**
  - 審核案件內容
  - 處理檢舉案件

## 二、技術要求（Technical Requirements）

### 1. 架構概述

- 前後端分離 (Frontend ↔ API Backend)
- 雲端資料庫整合（CloudSQL / PostgreSQL）
- CI/CD 部署至雲端平台（Vercel / GCP）

### 2. 前端

**使用框架：** React + Tailwind CSS

**功能：**

- SPA / PWA 支援
- RESTful API 串接
- 表單驗證與錯誤提示
- 響應式設計（桌機 / 手機）

### 3. 後端

**框架：** Node.js (Express / NestJS) or Next.js?

**建議技術棧：**
- **框架選擇：** Next.js (Full-stack) 或 NestJS (API-only)
- **ORM：** Prisma（類型安全、遷移方便）
- **即時通訊：** Socket.io 或 Supabase Realtime
- **檔案上傳：** Multer + Cloud Storage (S3 / GCS)
- **搜尋引擎：** PostgreSQL Full-Text Search 或 Elasticsearch

**功能模組：**

- **Auth 模組** (JWT / OAuth)
  - 使用者註冊、登入、登出
  - Google OAuth 整合
  - 手機號碼驗證
  - 密碼重設
  - Token 刷新機制
- **Project 模組**
  - 引導式建立案件（整合 AI 生成摘要）
  - 案件 CRUD 操作
  - 案件搜尋與篩選（全文搜尋、技能匹配）
  - 推薦系統（基於技能與過往經驗）
- **Bidding 模組**
  - 投標 CRUD
  - 投標狀態管理
  - 報價驗證（需在預算區間內）
- **Messaging 模組**
  - 即時訊息（Socket.io / Supabase Realtime / Pusher）
  - 訊息歷史記錄
  - 已讀狀態追蹤
- **Notification 模組**
  - 站內通知
  - Email 通知（使用 SendGrid / AWS SES）
  - 瀏覽器推播通知
- **Payment 模組**
  - 第三方支付整合（Stripe / 綠界 / 藍新）
  - 託管機制
  - 付款狀態追蹤
- **Review 模組**
  - 評價 CRUD
  - 信譽分數計算
- **Search 模組**
  - 全文搜尋（PostgreSQL Full-Text Search / Elasticsearch）
  - 技能匹配演算法
  - 推薦演算法
  - 標籤搜尋與篩選（支援多標籤組合）
- **Tag 模組**
  - 標籤 CRUD 操作
  - 標籤自動建議（基於案件描述）
  - 標籤使用統計（熱度排序）
  - 標籤追蹤與通知
- **AI 模組**
  - 專案摘要生成（OpenAI / Claude）
  - 技能標籤自動提取與建議
  - 專案分類建議
  - 標籤自動標記（根據專案內容）

**API 文件：** Swagger / Postman Collection 撰寫

### 4. 資料庫

- PostgreSQL
- 使用 Prisma ORM / Supabase Schema
- 具備外鍵約束與資料一致性檢查

### 5. 安全性要求

**身份驗證與授權：**

- JWT Token 過期時間：Access Token 15 分鐘，Refresh Token 7 天
- 密碼要求：至少 8 字元，包含大小寫字母與數字
- 密碼雜湊：使用 bcrypt（cost factor 12）
- API Rate Limiting：防止暴力破解與 DDoS
- CORS 設定：僅允許信任的域名

**資料保護：**

- 敏感資料加密：使用 HTTPS（TLS 1.3）
- 資料庫連線加密
- 個人資料保護：符合 GDPR 規範
- 付款資訊：不儲存完整信用卡號，使用第三方支付處理

**輸入驗證：**

- 所有使用者輸入需經過驗證與清理（防止 XSS、SQL Injection）
- 檔案上傳限制：檔案類型、大小限制
- 圖片上傳：自動壓縮與格式轉換

### 6. 效能要求

**回應時間目標：**

- API 回應時間：< 200ms（95th percentile）
- 頁面載入時間：< 2 秒（首次載入）
- 搜尋結果：< 500ms
- 即時訊息延遲：< 100ms

**擴展性：**

- 支援至少 10,000 併發使用者
- 資料庫查詢優化：使用索引、查詢快取
- CDN 整合：靜態資源使用 CDN
- 圖片優化：使用 WebP 格式，響應式圖片

**監控與日誌：**

- 應用程式監控：使用 Sentry / Datadog
- 效能監控：APM（Application Performance Monitoring）
- 日誌系統：集中式日誌管理（ELK Stack / Cloud Logging）
- 錯誤追蹤：自動錯誤報告與通知

### 7. 部署與維運

**部署環境：**

- **前端部署：** Vercel / Netlify
- **後端部署：** GCP Cloud Run / Supabase Functions / AWS Lambda
- **資料庫：** Cloud SQL (PostgreSQL) / Supabase
- **檔案儲存：** Google Cloud Storage / AWS S3

**版本控制與 CI/CD：**

- **版本控制：** Git + GitHub
- **CI/CD：** GitHub Actions
  - 自動化測試
  - 自動部署到 Staging 環境
  - 手動批准後部署到 Production
- **環境管理：** Development / Staging / Production

**自動化測試：**

- **單元測試：** Jest（後端）、Vitest（前端）
- **整合測試：** Jest / Supertest
- **E2E 測試：** Cypress / Playwright
- **測試覆蓋率目標：** > 70%

**備份與災難恢復：**

- 資料庫每日自動備份
- 備份保留 30 天
- 災難恢復計劃（RTO < 4 小時，RPO < 1 小時）

## 三、UI / UX 原則（Design Principles）

| 原則 | 說明 |
|------|------|
| 簡潔明瞭 | 清楚分角色介面（接案者 / 發案者），不混雜功能。 |
| 最少步驟原則 | 任何主要操作（如投標、發案）不超過 3 步。 |
| 可視化進度 | 案件狀態以視覺標籤呈現（Open / In Progress / Completed）。 |
| 響應式設計 | 手機、平板、桌機都可流暢操作。 |
| 一致的設計系統 | 使用統一的色系與按鈕風格（Primary / Secondary / Disabled）。 |
| 可用性測試 | 在部署前進行 3–5 位使用者測試並收集回饋。 |

**UI Kit：** Material Design / Tailwind CSS UI Kit

**色彩：**
- 主色：`#20263e` 深藍色
- 副色（底色）：`#e6dfcf` 卡其色
- 中間色（咖啡）：`#c5ae8c`

## 四、資料庫 Schema（Database Schema）

### 1. User Table

| 欄位 | 型別 | 說明 |
|------|------|------|
| id | UUID | 使用者唯一 ID（Primary Key） |
| name | VARCHAR(100) | 使用者姓名 |
| email | VARCHAR(150) | 登入信箱（唯一值，需加 Unique Index） |
| password_hash | VARCHAR(255) | 密碼雜湊值 |
| roles | TEXT[] | 使用者角色，可包含多個角色，如 ['freelancer', 'client'] |
| bio | TEXT | 自我介紹 |
| skills | TEXT[] | 技能標籤（例如：['Python', 'UI/UX', 'SQL']） |
| avatar_url | VARCHAR(255) | 大頭貼連結 |
| rating | FLOAT | 平均評價分數（可選，預設為 0） |
| created_at | TIMESTAMP | 註冊時間（預設 NOW()） |
| updated_at | TIMESTAMP | 更新時間（自動更新） |

### 2. Project Table

| 欄位 | 型別 | 說明 |
|------|------|------|
| id | UUID | 案件 ID |
| client_id | UUID | 外鍵 → User(id) |
| title | VARCHAR(150) | 案件標題 |
| description | TEXT | 案件說明 |
| ai_summary | TEXT | AI 生成的專案摘要（用於搜尋） |
| project_type | VARCHAR(50) | 專案類型（官網、電商、App 等） |
| budget_min | DECIMAL(10,2) | 最低預算 |
| budget_max | DECIMAL(10,2) | 最高預算 |
| budget_estimate_only | BOOLEAN | 是否為「先估型」（預設 false） |
| start_date | DATE | 希望開始日期 |
| deadline | DATE | 截止日期 |
| deadline_flexible | BOOLEAN | 時程是否有彈性（預設 false） |
| required_skills | TEXT[] | 技能需求（保留，與標籤系統並行） |
| project_brief | JSONB | 結構化專案 brief（引導式問答的回答） |
| reference_links | TEXT[] | 參考案例連結 |
| design_style | TEXT | 設計風格描述 |
| payment_method | VARCHAR(50) | 付款方式（一次付清、分期付款等） |
| payment_schedule | JSONB | 付款時程（分期付款的階段與比例） |
| deliverables | TEXT[] | 交付物清單 |
| communication_preference | TEXT[] | 溝通方式偏好 |
| special_requirements | TEXT | 特殊要求（NDA、版權等） |
| status | ENUM('draft', 'open', 'in_progress', 'completed', 'closed', 'cancelled') | 案件狀態 |
| accepted_bid_id | UUID | 外鍵 → Bid(id)，已接受的投標 |
| created_at | TIMESTAMP | 建立時間 |
| updated_at | TIMESTAMP | 更新時間 |

**標籤關係：**
- 透過 `ProjectTag` 關聯表與 `Tag` 表建立多對多關係

### 3. Bid Table

| 欄位 | 型別 | 說明 |
|------|------|------|
| id | UUID | 投標 ID |
| project_id | UUID | 外鍵 → Project(id) |
| freelancer_id | UUID | 外鍵 → User(id) |
| proposal | TEXT | 投標內容 |
| bid_amount | DECIMAL(10,2) | 報價金額 |
| status | ENUM('pending', 'accepted', 'rejected') | 投標狀態 |
| created_at | TIMESTAMP | 建立時間 |

### 4. Message Table

| 欄位 | 型別 | 說明 |
|------|------|------|
| id | UUID | 訊息 ID |
| project_id | UUID | 外鍵 → Project(id) |
| sender_id | UUID | 外鍵 → User(id) |
| receiver_id | UUID | 外鍵 → User(id) |
| content | TEXT | 訊息內容 |
| attachment_urls | TEXT[] | 附件連結（圖片、檔案等） |
| is_read | BOOLEAN | 是否已讀（預設 false） |
| created_at | TIMESTAMP | 發送時間 |

### 5. Notification Table

| 欄位 | 型別 | 說明 |
|------|------|------|
| id | UUID | 通知 ID |
| user_id | UUID | 外鍵 → User(id) |
| type | VARCHAR(50) | 通知類型（bid_received, bid_accepted, message, project_status_change, review_reminder） |
| title | VARCHAR(200) | 通知標題 |
| content | TEXT | 通知內容 |
| related_project_id | UUID | 相關案件 ID（可選） |
| related_bid_id | UUID | 相關投標 ID（可選） |
| is_read | BOOLEAN | 是否已讀（預設 false） |
| created_at | TIMESTAMP | 建立時間 |

### 6. Review Table

| 欄位 | 型別 | 說明 |
|------|------|------|
| id | UUID | 評價 ID |
| reviewer_id | UUID | 外鍵 → User(id) |
| reviewee_id | UUID | 外鍵 → User(id) |
| project_id | UUID | 外鍵 → Project(id) |
| rating | INT | 星級評價 (1–5) |
| comment | TEXT | 評論文字 |
| tags | TEXT[] | 評價標籤（專業、準時、溝通良好、品質佳等） |
| created_at | TIMESTAMP | 建立時間 |

### 7. Payment Table

| 欄位 | 型別 | 說明 |
|------|------|------|
| id | UUID | 付款記錄 ID |
| project_id | UUID | 外鍵 → Project(id) |
| payer_id | UUID | 外鍵 → User(id)（付款者，通常是發案者） |
| payee_id | UUID | 外鍵 → User(id)（收款者，通常是接案者） |
| amount | DECIMAL(10,2) | 付款金額 |
| payment_method | VARCHAR(50) | 付款方式 |
| payment_stage | VARCHAR(50) | 付款階段（簽約、中期、交付、驗收） |
| status | ENUM('pending', 'completed', 'refunded', 'disputed') | 付款狀態 |
| transaction_id | VARCHAR(255) | 第三方支付交易 ID |
| created_at | TIMESTAMP | 建立時間 |
| completed_at | TIMESTAMP | 完成時間 |

### 8. SavedProject Table（收藏案件）

| 欄位 | 型別 | 說明 |
|------|------|------|
| id | UUID | 收藏 ID |
| user_id | UUID | 外鍵 → User(id) |
| project_id | UUID | 外鍵 → Project(id) |
| created_at | TIMESTAMP | 收藏時間 |

### 9. Tag Table（標籤表）

| 欄位 | 型別 | 說明 |
|------|------|------|
| id | UUID | 標籤 ID |
| name | VARCHAR(100) | 標籤名稱（唯一值，需加 Unique Index） |
| slug | VARCHAR(100) | 標籤網址代稱（唯一值，用於 URL） |
| category | VARCHAR(50) | 標籤分類（tech, project_type, domain, tool） |
| description | TEXT | 標籤說明（可選） |
| icon | VARCHAR(255) | 標籤圖示連結（可選） |
| color | VARCHAR(20) | 標籤顏色（Hex 代碼） |
| usage_count | INT | 使用次數（用於熱門排序，預設 0） |
| is_system | BOOLEAN | 是否為系統預設標籤（預設 true） |
| is_active | BOOLEAN | 是否啟用（預設 true） |
| created_at | TIMESTAMP | 建立時間 |
| updated_at | TIMESTAMP | 更新時間 |

### 10. ProjectTag Table（案件標籤關聯表）

| 欄位 | 型別 | 說明 |
|------|------|------|
| id | UUID | 關聯 ID |
| project_id | UUID | 外鍵 → Project(id) |
| tag_id | UUID | 外鍵 → Tag(id) |
| created_at | TIMESTAMP | 建立時間 |

**索引：**
- 複合唯一索引 `(project_id, tag_id)` 確保唯一性
- 索引 `tag_id` 用於快速篩選
- 索引 `project_id` 用於快速查詢案件的標籤

### 11. UserTag Table（使用者標籤追蹤表）

| 欄位 | 型別 | 說明 |
|------|------|------|
| id | UUID | 追蹤 ID |
| user_id | UUID | 外鍵 → User(id) |
| tag_id | UUID | 外鍵 → Tag(id) |
| notification_enabled | BOOLEAN | 是否啟用新案件通知（預設 true） |
| created_at | TIMESTAMP | 追蹤時間 |

**索引：**
- 複合唯一索引 `(user_id, tag_id)` 確保唯一性
- 索引 `tag_id` 用於快速查詢追蹤該標籤的使用者

## 五、主要 API 端點規劃

### 認證相關 (Auth)

- `POST /api/auth/register` - 使用者註冊
- `POST /api/auth/login` - 使用者登入
- `POST /api/auth/logout` - 使用者登出
- `POST /api/auth/refresh` - 刷新 Token
- `POST /api/auth/forgot-password` - 忘記密碼
- `POST /api/auth/reset-password` - 重設密碼
- `GET /api/auth/verify-email` - 驗證 Email
- `POST /api/auth/verify-phone` - 驗證手機號碼
- `GET /api/auth/google` - Google OAuth 登入

### 使用者相關 (User)

- `GET /api/users/me` - 取得目前使用者資料
- `PUT /api/users/me` - 更新使用者資料
- `GET /api/users/:id` - 取得使用者公開資料
- `POST /api/users/avatar` - 上傳大頭照
- `GET /api/users/:id/portfolio` - 取得使用者作品集

### 案件相關 (Project)

- `GET /api/projects` - 取得案件列表（支援搜尋、篩選、分頁）
- `GET /api/projects/:id` - 取得案件詳情
- `POST /api/projects` - 建立新案件（引導式流程）
- `PUT /api/projects/:id` - 更新案件
- `DELETE /api/projects/:id` - 刪除案件
- `GET /api/projects/me` - 取得我的案件
- `POST /api/projects/:id/ai-summary` - 生成 AI 摘要
- `POST /api/projects/:id/save` - 收藏案件
- `DELETE /api/projects/:id/save` - 取消收藏

### 投標相關 (Bid)

- `GET /api/projects/:projectId/bids` - 取得案件的所有投標
- `POST /api/projects/:projectId/bids` - 建立投標
- `PUT /api/bids/:id` - 更新投標
- `DELETE /api/bids/:id` - 撤回投標
- `POST /api/bids/:id/accept` - 接受投標（發案者）
- `POST /api/bids/:id/reject` - 拒絕投標（發案者）

### 訊息相關 (Message)

- `GET /api/projects/:projectId/messages` - 取得案件訊息
- `POST /api/projects/:projectId/messages` - 發送訊息
- `PUT /api/messages/:id/read` - 標記為已讀
- `GET /api/messages/conversations` - 取得所有對話列表

### 通知相關 (Notification)

- `GET /api/notifications` - 取得通知列表
- `PUT /api/notifications/:id/read` - 標記通知為已讀
- `PUT /api/notifications/read-all` - 標記所有通知為已讀
- `GET /api/notifications/unread-count` - 取得未讀通知數量

### 評價相關 (Review)

- `GET /api/users/:id/reviews` - 取得使用者評價
- `POST /api/projects/:projectId/reviews` - 建立評價
- `PUT /api/reviews/:id` - 更新評價
- `DELETE /api/reviews/:id` - 刪除評價

### 付款相關 (Payment)

- `POST /api/payments/create-intent` - 建立付款意圖
- `POST /api/payments/confirm` - 確認付款
- `GET /api/payments/:id` - 取得付款詳情
- `POST /api/payments/:id/refund` - 申請退款
- `GET /api/projects/:projectId/payments` - 取得案件付款記錄

### 搜尋與推薦

- `GET /api/search/projects` - 搜尋案件（全文搜尋、標籤篩選）
- `GET /api/recommendations/projects` - 推薦案件（基於技能匹配）
- `GET /api/recommendations/freelancers` - 推薦接案者（基於案件需求）

### 標籤相關 (Tag)

- `GET /api/tags` - 取得標籤列表（支援分類篩選、熱度排序）
- `GET /api/tags/:id` - 取得標籤詳情
- `GET /api/tags/trending` - 取得熱門標籤
- `GET /api/tags/search` - 搜尋標籤（自動完成）
- `POST /api/tags` - 建立新標籤（需管理員權限）
- `PUT /api/tags/:id` - 更新標籤（需管理員權限）
- `DELETE /api/tags/:id` - 刪除標籤（需管理員權限）
- `GET /api/projects/:projectId/tags` - 取得案件的標籤
- `POST /api/projects/:projectId/tags` - 為案件添加標籤
- `DELETE /api/projects/:projectId/tags/:tagId` - 移除案件標籤
- `GET /api/users/:userId/tags` - 取得使用者追蹤的標籤
- `POST /api/users/:userId/tags/:tagId` - 追蹤標籤
- `DELETE /api/users/:userId/tags/:tagId` - 取消追蹤標籤
- `PUT /api/users/:userId/tags/:tagId/notification` - 設定標籤通知偏好

## 六、使用者流程（User Flows）

### 發案者流程

1. **註冊與登入**
   - 註冊帳號（Email / Google OAuth）
   - 驗證手機號碼
   - 完善個人資料

2. **建立案件**
   - 進入「建立新案件」頁面
   - 完成引導式問答（10 個步驟）
   - 使用拉桿設定預算區間
   - 預覽並發布案件

3. **管理案件**
   - 查看投標者列表
   - 閱讀提案內容
   - 接受或拒絕投標
   - 與接案者溝通
   - 追蹤案件進度

4. **完成案件**
   - 驗收專案成果
   - 支付尾款
   - 給予評價

### 接案者流程

1. **註冊與完善資料**
   - 註冊帳號
   - 上傳技能標籤
   - 建立作品集
   - 撰寫自我介紹

2. **尋找案件**
   - 瀏覽推薦案件
   - 使用搜尋與篩選功能
   - **使用標籤快速篩選**（技術標籤、專案類型、領域標籤）
   - 追蹤感興趣的標籤，接收相關案件通知
   - 收藏感興趣的案件

3. **投標**
   - 閱讀案件詳情
   - 撰寫提案內容
   - 設定報價金額
   - 提交投標

4. **執行案件**
   - 收到投標接受通知
   - 與發案者溝通需求
   - 開始執行專案
   - 更新進度里程碑
   - 提交成果

5. **完成案件**
   - 標記案件為完成
   - 等待驗收
   - 收到付款
   - 給予評價
